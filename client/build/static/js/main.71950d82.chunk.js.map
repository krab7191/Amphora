{"version":3,"sources":["utils/AUTH.js","App.js","index.js"],"names":["AUTH","getUser","axios","get","logout","post","login","username","password","signup","userData","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","event","preventDefault","then","response","console","log","data","status","setState","loggedIn","user","state","_this2","react_default","a","createElement","React","Component","ReactDOM","render","BrowserRouter","src_App","document","getElementById"],"mappings":"sPAEeA,EAAA,CAEbC,QAAS,WACP,OAAOC,IAAMC,IAAI,eAGnBC,OAAQ,WACN,OAAOF,IAAMG,KAAK,iBAGpBC,MAAO,SAASC,EAAUC,GACxB,OAAON,IAAMG,KAAK,cAAe,CAAEE,WAAUC,cAG/CC,OAAQ,SAASC,GACf,OAAOR,IAAMG,KAAK,eAAgBK,KCoFvBC,cAtFd,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACbC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,QAyBDX,OAAS,SAACe,GACTA,EAAMC,iBAENpB,EAAKI,SAASiB,KAAK,SAAAC,GAClBC,QAAQC,IAAIF,EAASG,MACG,MAApBH,EAASI,QACZd,EAAKe,SAAS,CACbC,UAAU,EACVC,KAAM,UAlCIjB,EAwCdN,MAAQ,SAACC,EAAUC,GAClBR,EAAKM,MAAMC,EAAUC,GAAUa,KAAK,SAAAC,GACnCC,QAAQC,IAAIF,GACY,MAApBA,EAASI,QAEZd,EAAKe,SAAS,CACbC,UAAU,EACVC,KAAMP,EAASG,KAAKI,UA5CvBjB,EAAKkB,MAAQ,CACZF,UAAU,EACVC,KAAM,MALMjB,mFASM,IAAAmB,EAAAhB,KACnBf,EAAKC,UAAUoB,KAAK,SAAAC,GACnBC,QAAQC,IAAIF,EAASG,MACfH,EAASG,KAAKI,KACnBE,EAAKJ,SAAS,CACbC,UAAU,EACVC,KAAMP,EAASG,KAAKI,OAGrBE,EAAKJ,SAAS,CACbC,UAAU,EACVC,KAAM,0CAmCT,OACCG,EAAAC,EAAAC,cAAA,cACCF,EAAAC,EAAAC,cAAA,6BA3DcC,IAAMC,2BCPxBC,IAASC,OACRN,EAAAC,EAAAC,cAACK,EAAA,EAAD,KACCP,EAAAC,EAAAC,cAACM,EAAD,OAEDC,SAASC,eAAe","file":"static/js/main.71950d82.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default {\n  // Gets user info\n  getUser: function() {\n    return axios.get('/auth/user');\n  },\n  // Logs the user out\n  logout: function() {\n    return axios.post('/auth/logout');\n  },\n  // Log the user in\n  login: function(username, password) {\n    return axios.post('/auth/login', { username, password });\n  },\n  // New user registration\n  signup: function(userData) {\n    return axios.post('/auth/signup', userData);\n  }\n};\n","import React from 'react';\n// import { Route, Switch } from 'react-router-dom';\n// import LoginForm from './pages/Auth/LoginForm';\n// import SignupForm from './pages/Auth/SignupForm';\n// import NoMatch from \"./pages/NoMatch\";\nimport AUTH from './utils/AUTH';\n\n// Bootstrap comps\nimport Button from 'react-bootstrap/lib/Button';\n// or\n// import { Button } from 'react-bootstrap';\n\n\nclass App extends React.Component {\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\tloggedIn: false,\n\t\t\tuser: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tAUTH.getUser().then(response => {\n\t\t\tconsole.log(response.data);\n\t\t\tif (!!response.data.user) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedIn: true,\n\t\t\t\t\tuser: response.data.user\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedIn: false,\n\t\t\t\t\tuser: null\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tlogout = (event) => {\n\t\tevent.preventDefault();\n\n\t\tAUTH.logout().then(response => {\n\t\t\tconsole.log(response.data);\n\t\t\tif (response.status === 200) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedIn: false,\n\t\t\t\t\tuser: null\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tlogin = (username, password) => {\n\t\tAUTH.login(username, password).then(response => {\n\t\t\tconsole.log(response);\n\t\t\tif (response.status === 200) {\n\t\t\t\t// update the state\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedIn: true,\n\t\t\t\t\tuser: response.data.user\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<header>\n\t\t\t\t<h1>\n\t\t\t\t\tAmphora\n          \t\t</h1>\n\t\t\t</header>\t\t\t// <div className=\"App\">\n\t\t\t// \t{this.state.loggedIn && (\n\t\t\t// \t\t<div>\n\t\t\t// \t\t\t<Nav user={this.state.user} logout={this.logout} />\n\t\t\t// \t\t\t<div className=\"main-view\">\n\t\t\t// \t\t\t\t<Switch>\n\t\t\t// \t\t\t\t\t<Route exact path=\"/\" component={() => <Books user={this.state.user} />} />\n\t\t\t// \t\t\t\t\t<Route exact path=\"/books\" component={() => <Books user={this.state.user} />} />\n\t\t\t// \t\t\t\t\t<Route exact path=\"/books/:id\" component={Detail} />\n\t\t\t// \t\t\t\t\t<Route component={NoMatch} />\n\t\t\t// \t\t\t\t</Switch>\n\t\t\t// \t\t\t</div>\n\t\t\t// \t\t</div>\n\t\t\t// \t)}\n\t\t\t// \t{!this.state.loggedIn && (\n\t\t\t// \t\t<div className=\"auth-wrapper\" style={{ paddingTop: 40 }}>\n\t\t\t// \t\t\t<Route exact path=\"/\" component={() => <LoginForm login={this.login} />} />\n\t\t\t// \t\t\t<Route exact path=\"/books\" component={() => <LoginForm user={this.login} />} />\n\t\t\t// \t\t\t<Route exact path=\"/signup\" component={SignupForm} />\n\t\t\t// \t\t</div>\n\t\t\t// \t)}\n\t\t\t// </div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}