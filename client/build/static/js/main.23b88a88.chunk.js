(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){e.exports=a(276)},134:function(e,t,a){},136:function(e,t,a){},181:function(e,t,a){},266:function(e,t,a){},268:function(e,t,a){},270:function(e,t,a){},272:function(e,t,a){},274:function(e,t,a){},276:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(7),s=a.n(r),o=a(28),c=a(29),i=a(31),u=a(30),m=a(32),g=a(281),d=a(280),h=a(119),p=a(51),E=a(278),f=a(277),v=a(120),b=a.n(v),w=a(85),y=a.n(w),N=a(52),O=a.n(N),j=a(60),S=a.n(j),k=(a(134),function(){return l.a.createElement("header",null,l.a.createElement("div",null,l.a.createElement("img",{alt:"Amphora logo",src:"images/logo.png",className:"logo"}),l.a.createElement("h1",{className:"inline-h1"},"Amphora")))}),C=(a(136),function(e){function t(e,a){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e,a))).handleSubmit=function(e){e.preventDefault(),console.log("Submit login form"),n.props.login(n.state.email,n.state.password),n.setState({redirectTo:"/"})},n.handleChange=n.handleChange.bind(Object(p.a)(Object(p.a)(n))),n.state={email:"",password:"",redirectTo:null},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){this.props;return this.state.redirectTo?l.a.createElement(E.a,{to:{pathname:this.state.redirectTo}}):l.a.createElement(l.a.Fragment,null,l.a.createElement(k,null),l.a.createElement(b.a,{className:"abs-center container width-40"},l.a.createElement("p",{className:"white-text"},"Login to Pandora"),l.a.createElement(y.a,{controlId:"loginEmail",className:"row",validationState:this.props.validateEmail(this.state.email)},l.a.createElement(O.a,{type:"text",name:"email",value:this.state.email,placeholder:"Email",onChange:this.handleChange}),l.a.createElement(O.a.Feedback,null)),l.a.createElement(y.a,{controlId:"loginPassword",className:"row",validationState:this.props.validateLength(this.state.password)},l.a.createElement(O.a,{type:"password",name:"password",value:this.state.password,placeholder:"Password",onChange:this.handleChange}),l.a.createElement(O.a.Feedback,null)),l.a.createElement("div",{className:"row"},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.pandora.com/account/register",className:"white-text col-md-8 pull-left"},"Create Pandora account"),l.a.createElement(S.a,{type:"submit",onClick:this.handleSubmit,className:"pull-right col-md-4",bsStyle:"info"},"Log in")),l.a.createElement(f.a,{to:"/",onClick:this.props.loginGuest,className:"white-text"},"Test (proposed layout)")))}}]),t}(l.a.Component)),x=function(){return l.a.createElement("h1",null,"Nothing found")},I=a(53),G=a.n(I),L={getUser:function(){return G.a.get("/auth/user")},logout:function(){return G.a.post("/auth/logout")},login:function(e,t){return G.a.post("/auth/login",{username:e,password:t})},signup:function(e){return G.a.post("/auth/signup",e)}},P=a(45),T=a.n(P),A=a(121),M=a.n(A),B=a(122),D=a.n(B),J=a(123),R=a.n(J),F=a(124),H=a.n(F),K=a(37),U=a.n(K),W=(a(181),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeStation=function(e){var t=e.target.name;a.setState({currStation:t})},a.state={stations:[{name:"Metallica"},{name:"Havok"},{name:"Lamb of God"}],currStation:"Metallica"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(T.a,{fixedTop:!0,collapseOnSelect:!0,className:"main-navbar"},l.a.createElement(T.a.Header,null,l.a.createElement(T.a.Brand,null,l.a.createElement("img",{src:"images/logo.png",alt:"Amphora logo",className:"logo pull-left"})),l.a.createElement(T.a.Toggle,null),l.a.createElement("h1",{className:"pull-left white-text margin-left-10"},"Amphora")),l.a.createElement(T.a.Collapse,null,l.a.createElement(M.a,{pullRight:!0},l.a.createElement(D.a,null,l.a.createElement(U.a,{glyph:"cog",className:"white-text"}),l.a.createElement("p",{className:"inline padding-left-10 white-text"},"Settings")),l.a.createElement(R.a,{eventKey:1,title:this.state.currStation,id:"station-dropdown"},this.state.stations.map(function(t,a){return l.a.createElement(H.a,{eventKey:"1.".concat(a),key:a,name:t.name,onClick:e.changeStation},t.name)})))))}}]),t}(l.a.Component)),$=a(87),_=(a(264),a(266),Object($.a)($.b)),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).playPause=function(){"pause"===a.state.playing?a.setState({playing:"play"}):a.setState({playing:"pause"})},a.state={currSong:null,playing:"pause",volume:"volume-up"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({currSong:this.props.songs[0]})}},{key:"render",value:function(){return l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"hCenter"},l.a.createElement("div",{className:"controlBox",onClick:this.playPause},l.a.createElement(U.a,{glyph:this.state.playing})),l.a.createElement("div",{className:"controlBox"},l.a.createElement(U.a,{glyph:"fast-forward"})),l.a.createElement("div",{className:"controlBox",id:"volume-button"},l.a.createElement(U.a,{glyph:this.state.volume})),l.a.createElement("div",{id:"volume-slider"},l.a.createElement(_,{vertical:"true"}))))}}]),t}(l.a.Component),z=(a(268),function(e){return l.a.createElement("div",{className:"row song ".concat(e.class)},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("img",{src:e.img,alt:e.title,className:"album-art"})),l.a.createElement("div",{className:"col-md-4 container"},l.a.createElement("p",{className:"row"},l.a.createElement("strong",null,e.title)),l.a.createElement("p",{className:"row"},"by ",l.a.createElement("strong",null,e.artist)),l.a.createElement("p",{className:"row"},"from ",l.a.createElement("em",null,e.album)),e.length&&l.a.createElement("p",{className:"row"},"32kbit/s - 2:32 / ",e.length)))}),Q=(a(270),function(e){return l.a.createElement("div",{id:"song-container",className:"container"},e.songs.map(function(e,t){return 0===t&&l.a.createElement(z,Object.assign({},e,{key:t,class:"playing"}))}),e.songs.map(function(e,t){return 0!==t&&l.a.createElement(z,Object.assign({},e,{key:t}))}))}),V=(a(272),function(e){return l.a.createElement("div",null,l.a.createElement(W,null),l.a.createElement(Q,{songs:e.songs}),l.a.createElement(q,{songs:e.songs}))}),X=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).logout=function(t){t.preventDefault(),"Guest"===e.state.user.Email?e.setState({loggedIn:!1,user:null}):L.logout().then(function(t){console.log(t.data),200===t.status?e.setState({loggedIn:!1,user:null}):alert("error logging out")})},e.login=function(t,a){L.login(t,a).then(function(t){console.log(t),200===t.status&&e.setState({loggedIn:!0,user:t.data.user})})},e.loginGuest=function(){e.setState({loggedIn:!0,user:{Name:"Guest",Email:"Guest"}})},e.validateLength=function(e){return e.trim().length>0?"success":0===e.trim().length?"error":null},e.validateEmail=function(e){var t=new RegExp(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/).test(e);return t?"success":t?null:"error"},e.state={loggedIn:!1,user:null,songs:[{img:"images/Sabaton.jpg",title:"Evil Lies In Every Man",artist:"Orden Ogan",album:"Ravenhead",length:"5:45"},{img:"images/Gamma.jpg",title:"Damn The Machine",artist:"Gamma Ray",album:"No World Order"},{img:"images/Judas.jpg",title:"One Shot At Glory",artist:"Judas Priest",album:"Painkiller"}]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;L.getUser().then(function(t){console.log(t),t.data.user?e.setState({loggedIn:!0,user:t.data.user}):e.setState({loggedIn:!1,user:null})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},this.state.loggedIn&&l.a.createElement("div",{className:"main-view"},l.a.createElement(g.a,null,l.a.createElement(d.a,{exact:!0,path:"/",component:function(){return l.a.createElement(V,{songs:e.state.songs})}}),l.a.createElement(d.a,{component:x}))),!this.state.loggedIn&&l.a.createElement(d.a,{exact:!0,path:"/",component:function(){return l.a.createElement(C,{login:e.login,loginGuest:e.loginGuest,validateLength:e.validateLength,validateEmail:e.validateEmail})}}))}}]),t}(l.a.Component),Y=(a(274),a(279));s.a.render(l.a.createElement(Y.a,null,l.a.createElement(X,null)),document.getElementById("root"))}},[[129,2,1]]]);
//# sourceMappingURL=main.23b88a88.chunk.js.map